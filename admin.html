<!-- admin.html -->
<!DOCTYPE html>
<html lang="el">
<head>
  <meta charset="UTF-8" />
  <title>Quiz Admin</title>
  <style>
    body { font-family: sans-serif; padding: 20px; }
    input, button, textarea { display: block; margin: 10px 0; width: 100%; padding: 8px; }
    .results div { margin: 5px 0; }
  </style>
</head>
<body>
  <h1>🎓 Quiz Admin</h1>
  <label>Ερώτηση:</label>
  <textarea id="question"></textarea>

  <label>Απάντηση Α:</label>
  <input id="a" type="text" />

  <label>Απάντηση Β:</label>
  <input id="b" type="text" />

  <label>Απάντηση Γ:</label>
  <input id="c" type="text" />

  <label>Απάντηση Δ:</label>
  <input id="d" type="text" />

  <label>Σωστή απάντηση (A/B/C/D):</label>
  <input id="correct" type="text" maxlength="1" />

  <button onclick="startQuestion()">Έναρξη Ερώτησης</button>
  <button onclick="showCorrect()">Εμφάνισε Σωστή Απάντηση</button>

  <h2>📊 Ψήφοι:</h2>
  <div class="results">
    <div>Α: <span id="va">0</span></div>
    <div>Β: <span id="vb">0</span></div>
    <div>Γ: <span id="vc">0</span></div>
    <div>Δ: <span id="vd">0</span></div>
  </div>

  <script>
    let votes = { A: 0, B: 0, C: 0, D: 0 };
    let correct = '';

    function startQuestion() {
      votes = { A: 0, B: 0, C: 0, D: 0 };
      correct = document.getElementById("correct").value.toUpperCase();

      localStorage.setItem("question", document.getElementById("question").value);
      localStorage.setItem("A", document.getElementById("a").value);
      localStorage.setItem("B", document.getElementById("b").value);
      localStorage.setItem("C", document.getElementById("c").value);
      localStorage.setItem("D", document.getElementById("d").value);
      localStorage.setItem("correct", correct);
      localStorage.setItem("resetVotes", "true");
      updateVotes();
    }

    function showCorrect() {
      localStorage.setItem("showCorrect", "true");
    }

    window.addEventListener("storage", () => updateVotes());

    function updateVotes() {
      document.getElementById("va").textContent = localStorage.getItem("votesA") || 0;
      document.getElementById("vb").textContent = localStorage.getItem("votesB") || 0;
      document.getElementById("vc").textContent = localStorage.getItem("votesC") || 0;
      document.getElementById("vd").textContent = localStorage.getItem("votesD") || 0;
    }
  </script>
</body>
</html>
